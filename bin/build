#!/usr/bin/env sh

BIN_DIR=$( cd $( dirname $0 ); pwd )

# echo '$_MAVEN_OPTS: '$_MAVEN_OPTS

. ./.bashrc

# export _MAVEN_OPTS="-q"

rm -rfv easytour-api/src
rm -rfv easytour-api/gen
rm -rfv easytour-api/target

mkdir -pv easytour-api/

mvn -N clean package

# rm -rfv easytour-api/src/gen

mvn -DskipTests compile source:jar jar:jar install -pl easytour-api

mvn install:install-file -pl easytour-api \
  -DgroupId=io.easytour.api.spec \
  -DartifactId=easytour-api-spec \
  -Dversion=0.1.0-RELEASE \
  -Dpackaging=jar \
  -Dfile=target/easytour-api-spec-0.1.0-RELEASE.jar

# mvn shade:shade -pl easytour-api



